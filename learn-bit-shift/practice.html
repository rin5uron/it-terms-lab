<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>シフト演算 練習問題 | ビットシフトを学ぶ</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <header>
    <h1>シフト演算 練習問題</h1>
    <p>実際に問題を解いて理解を深めよう</p>
  </header>

  <section>
    <h3>レベル1：基本操作</h3>
    <hr>
    
    <div class="question-item">
      <h4>問1：左シフト</h4>
      <p>2進数の<code>00000011</code>（10進数で3）を1ビット左シフトした場合の2進数表記と10進数表記を答えてください。</p>
      <details>
        <summary>正解</summary>
        <div class="explanation-content">
          <p class="answer">2進数：<code>00000110</code><br>10進数：6</p>
          <p><strong>【解説】</strong></p>
          <p>ビットを左に1つずらし、右端に0を埋めます。</p>
          <div class="calculation-box">
00000011 << 1 → 00000110
          </div>
        </div>
      </details>
    </div>

    <div class="question-item">
      <h4>問2：右シフト</h4>
      <p>2進数の<code>00001010</code>（10進数で10）を1ビット右シフトした場合の2進数表記と10進数表記を答えてください。</p>
      <details>
        <summary>正解</summary>
        <div class="explanation-content">
          <p class="answer">2進数：<code>00000101</code><br>10進数：5</p>
          <p><strong>【解説】</strong></p>
          <p>ビットを右に1つずらし、左端に0を埋めます。</p>
          <div class="calculation-box">
00001010 >> 1 → 00000101
          </div>
        </div>
      </details>
    </div>
  </section>

  <section>
    <h3>レベル2：実用的な応用</h3>
    <hr>
    
    <div class="question-item">
      <h4>問3：メモリ容量の計算</h4>
      <p>コンピューターのメモリ容量8GBをバイト単位で表すとき、シフト演算を使って計算してください。<br>（1GB = 2³⁰ バイト、8 = 2³）</p>
      <details>
        <summary>正解</summary>
        <div class="explanation-content">
          <p class="answer">8,589,934,592バイト</p>
          <p><strong>【解説】</strong></p>
          <p>8GB = 8 × 2³⁰ = 2³ × 2³⁰ = 2³³ バイト</p>
          <div class="calculation-box">
シフト演算で計算：
1 << 33 = 8,589,934,592バイト

または段階的に：
1GB = 1 << 30 = 1,073,741,824バイト
8GB = 8 << 30 = 8,589,934,592バイト
          </div>
        </div>
      </details>
    </div>

    <div class="question-item">
      <h4>問4：画像処理での応用</h4>
      <p>1024×768ピクセルの画像を1/4のサイズに縮小するとき、新しい画像のピクセル数をシフト演算で計算してください。</p>
      <details>
        <summary>正解</summary>
        <div class="explanation-content">
          <p class="answer">196,608ピクセル</p>
          <p><strong>【解説】</strong></p>
          <p>1/4のサイズ = 縦横それぞれ1/2なので、全体では1/4になります。</p>
          <div class="calculation-box">
元の画像：1024 × 768 = 786,432ピクセル

1/4サイズ：786,432 >> 2 = 196,608ピクセル

確認：
新しいサイズ：512 × 384 = 196,608ピクセル ✓
          </div>
        </div>
      </details>
    </div>

    <div class="question-item">
      <h4>問5：CPUでの高速化</h4>
      <p>配列の要素数が64個（2⁶個）のとき、インデックス15の要素にアクセスするための配列計算を、シフト演算を使って高速化してください。<br>（各要素は4バイト）</p>
      <details>
        <summary>正解</summary>
        <div class="explanation-content">
          <p class="answer">オフセット = 15 << 2 = 60バイト</p>
          <p><strong>【解説】</strong></p>
          <p>配列のオフセット計算では、インデックス×要素サイズで求めます。</p>
          <div class="calculation-box">
通常の計算：
オフセット = インデックス × 要素サイズ
= 15 × 4 = 60バイト

シフト演算による高速化：
4 = 2² なので、×4 は <<2 で計算できる
オフセット = 15 << 2 = 60バイト

CPUレベルでは、シフト演算の方が乗算より高速！
          </div>
        </div>
      </details>
    </div>

    <div class="question-item">
      <h4>問6：ネットワークでの応用</h4>
      <p>IPv4アドレスのサブネットマスク「/24」は、24ビットがネットワーク部を表します。このとき、ホスト部で使用できるアドレス数をシフト演算で計算してください。</p>
      <details>
        <summary>正解</summary>
        <div class="explanation-content">
          <p class="answer">256個（実際に使える：254個）</p>
          <p><strong>【解説】</strong></p>
          <p>IPv4は32ビットなので、ホスト部は32-24=8ビットです。</p>
          <div class="calculation-box">
ホスト部のビット数：32 - 24 = 8ビット
使用できるアドレス数：2⁸ = 1 << 8 = 256個

実際の使用可能数：
- ネットワークアドレス（全て0）：1個
- ブロードキャストアドレス（全て1）：1個
実際に使える：256 - 2 = 254個
          </div>
        </div>
      </details>
    </div>
  </section>

  <section>
    <h3>レベル3：基本情報試験 過去問</h3>
    <hr>
    
    <div class="question-item">
      <h4>問6：平成28年秋期 問1</h4>
      <p>10進数の25を2進数で表したものはどれか。</p>
      <p>ア：10011　イ：11001　ウ：10101　エ：11101</p>
      <details>
        <summary>正解</summary>
        <div class="explanation-content">
          <p class="answer">イ</p>
          <p><strong>【解説】</strong></p>
          <p>2で割って余りを逆順に並べる</p>
          <div class="calculation-box">
25 ÷ 2 = 12 ... 1<br>
12 ÷ 2 =  6 ... 0<br>
 6 ÷ 2 =  3 ... 0<br>
 3 ÷ 2 =  1 ... 1<br>
 1 ÷ 2 =  0 ... 1<br>
<br>
→ 逆順に読む → 11001<br>
          </div>
        </div>
      </details>
    </div>

    <div class="question-item">
      <h4>問7：平成27年秋期 問1</h4>
      <p>2進数の10110110を16進数で表したものはどれか。</p>
      <p>ア：B6　イ：6B　ウ：A6　エ：6A</p>
      <details>
        <summary>正解</summary>
        <div class="explanation-content">
          <p class="answer">ア</p>
          <p><strong>【解説】</strong></p>
          <p>4桁ずつ区切って16進数に変換</p>
          <div class="calculation-box">
1011 = 11 → B<br>
0110 =  6 → 6<br>
<br>
→ つなげる → B6<br>
          </div>
        </div>
      </details>
    </div>

    <div class="question-item">
      <h4>問8：レジスタ操作</h4>
      <p>ある8ビットレジスタに16進数 <code>A5</code> が格納されている。この値を2ビット左シフト（論理左シフト）した場合、レジスタに格納される16進数の値はどれか。</p>
      <p>ア：<code>28</code>　イ：<code>94</code>　ウ：<code>A5</code>　エ：<code>D4</code></p>
      <details>
        <summary>正解</summary>
        <div class="explanation-content">
          <p class="answer">イ</p>
          <p><strong>【解説】</strong></p>
          <p>1. 16進数 <code>A5</code> を2進数に変換します。<br><code>A</code> は <code>1010</code>、<code>5</code> は <code>0101</code> なので、<code>A5</code> は <code>1010 0101</code> です。</p>
          <p>2. この値を2ビット左シフトします。左端のビットは捨てられ、右端に0が追加されます。</p>
          <div class="calculation-box">
元の値: 1010 0101<br>
1ビット左シフト: 0100 1010 (左端の1が捨てられ、右端に0が追加)<br>
2ビット左シフト: 1001 0100 (さらに左端の0が捨てられ、右端に0が追加)
          </div>
          <p>3. 結果の2進数 <code>1001 0100</code> を16進数に変換します。<br><code>1001</code> は <code>9</code>、<code>0100</code> は <code>4</code> なので、<code>94</code> です。</p>
        </div>
      </details>
    </div>
  </section>

  <div class="center">
    <a class="btn-link" href="index.html">解説ページに戻る</a>
  </div>

</body>
</html>
