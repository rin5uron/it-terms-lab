<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>シフト演算とは？ | ビットシフトを学ぶ</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

  <header>
    <h1>シフト演算</h1>
    <p>ビットをずらすことで高速な計算を実現する</p>
  </header>

  <section>
    <div class="summary-box">
      <p>ビット（桁）を左右にずらすことで、2の累乗による掛け算・割り算をシンプルかつ高速に行う演算です。</p>
    </div>
    <h2><i class="fas fa-arrows-alt-h"></i> シフト演算とは？</h2>
    <div class="highlight">
      <strong>2進数のビット（桁）を左右にずらすことで、2の累乗による掛け算・割り算をシンプルかつ高速に行う演算。</strong>
    </div>
  </section>

  <section>
    <div class="summary-box">
      <p>10進数で考えると、桁をずらすことが10倍や1/10倍になるのと同じです。</p>
    </div>
    <h2><i class="fas fa-calculator"></i> 10進数で考えてみる</h2>
    <div class="calculation-box">
<pre>
123 << 1 → 1230（×10）
123 >> 1 → 12.3（÷10）
</pre>
    </div>
    <p>この「桁をずらす＝何倍・何分の1」という感覚を、<br>
    <strong>2進数の世界でも同じように応用する</strong>のが「シフト演算」です。</p>
  </section>

  <section>
    <div class="summary-box">
      <p>シフト演算が「2の累乗による掛け算・割り算」として機能するのは、2進数だからこそ成り立ちます。</p>
    </div>
    <h2><i class="fas fa-binary"></i> 2進数でのシフト演算</h2>
    <p>シフト演算が「2の累乗による掛け算・割り算」として機能するのは、**2進数だからこそ**成り立ちます。<br>
    10進数では桁をずらすと10倍・10分の1になるように、2進数では桁をずらすと2倍・2分の1になります。<br>
    これは、各桁の重みが2の累乗で表現される2進数の特性によるものです。</p>
  </section>

  <section>
    <div class="summary-box">
      <p>論理シフトは、空いた桁に「0」を詰める方法で、主に正の整数・非負整数で使われます。</p>
    </div>
    <h2><i class="fas fa-exchange-alt"></i> 論理シフト（Logical Shift）</h2>
    <p><strong>→ 桁を左右にずらし、空いた桁に「0」を詰める方法。</strong></p>
    <p>📌 主に正の整数・非負整数で使われ、<strong>左シフトで×2、右シフトで÷2</strong> になります。</p>

    <h3>🔹 例：論理左シフト (5 (0000 0101) を1ビット左シフト)</h3>
    <p>元の値: 5</p>
    <div class="bit-string-example">
      <span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span>
      <span class="bit-box">0</span><span class="bit-box">1</span><span class="bit-box">0</span><span class="bit-box">1</span>
    </div>
    <p class="arrow">↓ 1ビット左シフト</p>
    <div class="bit-string-example shifted">
      <span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span>
      <span class="bit-box">1</span><span class="bit-box">0</span><span class="bit-box">1</span><span class="bit-box new-bit">0</span>
    </div>
    <p>結果: 10</p>

    <h3>🔹 例：論理左シフト (5 (0000 0101) を2ビット左シフト)</h3>
    <p>元の値: 5</p>
    <div class="bit-string-example">
      <span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span>
      <span class="bit-box">0</span><span class="bit-box">1</span><span class="bit-box">0</span><span class="bit-box">1</span>
    </div>
    <p class="arrow">↓ 2ビット左シフト</p>
    <div class="bit-string-example shifted">
      <span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">1</span>
      <span class="bit-box">0</span><span class="bit-box">1</span><span class="bit-box new-bit">0</span><span class="bit-box new-bit">0</span>
    </div>
    <p>結果: 20</p>

    <h3>🔹 例：論理右シフト (8 (0000 1000) を1ビット右シフト)</h3>
    <p>元の値: 8</p>
    <div class="bit-string-example">
      <span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span>
      <span class="bit-box">1</span><span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span>
    </div>
    <p class="arrow">↓ 1ビット右シフト</p>
    <div class="bit-string-example shifted">
      <span class="bit-box new-bit">0</span><span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span>
      <span class="bit-box">0</span><span class="bit-box">1</span><span class="bit-box">0</span><span class="bit-box">0</span>
    </div>
    <p>結果: 4</p>

    <h3>🔹 例：論理右シフト (8 (0000 1000) を2ビット右シフト)</h3>
    <p>元の値: 8</p>
    <div class="bit-string-example">
      <span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span>
      <span class="bit-box">1</span><span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span>
    </div>
    <p class="arrow">↓ 2ビット右シフト</p>
    <div class="bit-string-example shifted">
      <span class="bit-box new-bit">0</span><span class="bit-box new-bit">0</span><span class="bit-box">0</span><span class="bit-box">0</span>
      <span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">1</span><span class="bit-box">0</span>
    </div>
    <p>結果: 2</p>

    <p>※ 論理右シフトでは、常に左端に <strong>0</strong> が入ります。<br>
    ※ 負の数には対応していません。</p>
  </section>

  <section>
    <div class="summary-box">
      <p>算術シフトは、左端の符号ビットを固定したまま右シフトする方法で、負の数も扱えます。</p>
    </div>
    <h2><i class="fas fa-calculator"></i> 算術シフト（Arithmetic Shift）</h2>
    <p><strong>→ 左端の符号ビットを固定したまま右シフトする方法。</strong></p>
    <ul>
      <li>負の数もそのまま扱えるため、符号付き整数の除算によく用いられます。</li>
      <li>CPUレベルでは「符号付き整数（signed int）」の演算に使われます。</li>
    </ul>

    <h3>🔹 例：算術右シフト（符号付き8ビット表現）</h3>
    <p>元の値: -4</p>
    <div class="bit-string-example">
      <span class="bit-box">1</span><span class="bit-box">1</span><span class="bit-box">1</span><span class="bit-box">1</span>
      <span class="bit-box">1</span><span class="bit-box">1</span><span class="bit-box">0</span><span class="bit-box">0</span>
    </div>
    <p class="arrow">↓ 1ビット算術右シフト</p>
    <div class="bit-string-example shifted">
      <span class="bit-box new-bit">1</span><span class="bit-box">1</span><span class="bit-box">1</span><span class="bit-box">1</span>
      <span class="bit-box">1</span><span class="bit-box">1</span><span class="bit-box">1</span><span class="bit-box">0</span>
    </div>
    <p>結果: -2</p>
  </section>

  <section>
    <div class="summary-box">
      <p>左シフトでも、最上位ビットに1が入ると符号が変わることがあります（オーバーフロー）。</p>
    </div>
    <h2><i class="fas fa-exclamation-triangle"></i> 補足：オーバーフロー（左シフトでも負になることがある）</h2>
    <p>左シフトでも、**最上位ビットに1が入ると符号が変わる**</p>

    <h3>例：</h3>
    <p>元の値: 64</p>
    <div class="bit-string-example">
      <span class="bit-box">0</span><span class="bit-box">1</span><span class="bit-box">0</span><span class="bit-box">0</span>
      <span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span>
    </div>
    <p class="arrow">↓ 1ビット左シフト</p>
    <div class="bit-string-example shifted">
      <span class="bit-box">1</span><span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span>
      <span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box">0</span><span class="bit-box new-bit">0</span>
    </div>
    <p>結果: -128</p>
    <p>→ 左シフトでも負になる！これは **桁あふれ（オーバーフロー）** によるものです。</p>
  </section>

  <section>
    <div class="summary-box">
      <p>シフト演算は2進数のビットを直接操作する演算で、主にCPU内部や低レイヤー処理で使われます。</p>
    </div>
    <h2><i class="fas fa-info-circle"></i> 注意書き（進数とシフト演算）</h2>
    <p>シフト演算は、**2進数のビットを直接操作する演算**で、<br>
    主に **CPU内部や低レイヤー処理**で使われます。</p>
    <p>8進数や16進数では **表記を簡略化する目的で使われることはあります**が、<br>
    **演算自体は常に2進数に戻して処理されます。**</p>
  </section>

  <section class="center">
    <a class="btn-link" href="practice.html">練習問題に挑戦する</a>
  </section>

</body>
</html>